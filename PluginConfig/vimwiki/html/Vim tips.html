<script type="text/javascript" src="scripts/shCore.js"></script>
<link type="text/css" rel="stylesheet" href="styles/shCoreDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>

<script type="text/javascript" src="scripts/shBrushverilog.js"></script>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>Vim tips</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>

<ul>
<li>
删除dos换行符 :%s/\r//g

<li>
统计字符数：:%s/./&amp;/gn

<li>
统计单词数：:%s/\i\+/&amp;/gn

<li>
统计行数：:%s/^//n

<li>
统计指定单词：:%s/the/&amp;/gn 任何地方出现的 "the"

<li>
gi			在当前缓冲区最近一次插入模式停止的位置继续插入文本。

<li>
编辑在缓存中的两个文件快速切换命令
	比如在同一个窗口中先后打开了 file1.txt 和 file2.txt ，这时候使用 Ctrl+^ 可以在同一窗口中来回切换这两个文件。

<li>
:help holy-grail

<li>
不同模式下的案件映射
<pre>
Command	Normal	Visual	Operator	Insert	Command-Line
:map		y		y		y
:nmap		y
:vmap				y
:omap						y
:map!								splitrighty		y
:imap								y
:cmap											
</pre>

<li>
特殊按键表示 :h keycodes

<li>
:g/word/d			删除包含word的行
<pre>
环境变量 LANG（使用的语言）；
环境变量 LC_CTYPE（使用的内部编码）；
Vim 选项 encoding（Vim 的内部编码）；
Vim 选项 termencoding（Vim 在与屏幕/键盘交互时使用的编码）；
Vim 选项 fileencoding（Vim 当前编辑的文件在存储时的编码）；
Vim 选项 fileencodings（Vim 打开文件时的尝试使用的编码）；
Vim 选项 ambiwidth（对“不明宽度”字符的处理方式；Vim 6.1.455 后引入）。
</pre>

<li>
在windows下,DOS下也可以象上面那样打开；而若是“双击”打开方式，则可以修改注册表HKEY_CLASSES_ROOT\Applications\gvim.exe\shell\edit\command将其键值修改为

</ul>
<p>
"E:\cloud_backup\vim\vim73\gvim.exe" -p --remote-tab-silent "%1"
</p>

<ul>
<li>
多buff的查找和替换

</ul>
<p>
:bufdo %s/aaa/bbb/ge | update			
</p>

<ul>
<li>
tabm
		把当前标签页移到第 N 个标签页之后。用 0 使当前标签页成为首个标
		签页。如果没有 N，当前标签页成为最后一个。

</ul>

<ul>
<li>
使用matchit.vim匹配verilog里的begin-end等

<ul>
<li>
安装matchit.vim（系统可能自带）

<li>
在<a href="http://www.opensource.apple.com/source/vim/vim-6/vim/runtime/ftplugin/verilog.vim下载verilog.vim文件">http://www.opensource.apple.com/source/vim/vim-6/vim/runtime/ftplugin/verilog.vim下载verilog.vim文件</a>

<li>
将此文件加入到E:\cloud_backup\vim\vimfiles\ftplugin里

<li>

<pre>
	source E:\cloud_backup\vim\vimfiles\plugin\matchit.vim
	if exists('loaded_matchit')
	let b:match_ignorecase=0
	let b:match_words=
	  \ '\&lt;begin\&gt;:\&lt;end\&gt;,' .
	  \ '\&lt;if\&gt;:\&lt;else\&gt;,' .
	  \ '\&lt;module\&gt;:\&lt;endmodule\&gt;,' .
	  \ '\&lt;class\&gt;:\&lt;endclass\&gt;,' .
	  \ '\&lt;program\&gt;:\&lt;endprogram\&gt;,' .
	  \ '\&lt;clocking\&gt;:\&lt;endclocking\&gt;,' .
	  \ '\&lt;property\&gt;:\&lt;endproperty\&gt;,' .
	  \ '\&lt;sequence\&gt;:\&lt;endsequence\&gt;,' .
	  \ '\&lt;package\&gt;:\&lt;endpackage\&gt;,' .
	  \ '\&lt;covergroup\&gt;:\&lt;endgroup\&gt;,' .
	  \ '\&lt;primitive\&gt;:\&lt;endprimitive\&gt;,' .
	  \ '\&lt;specify\&gt;:\&lt;endspecify\&gt;,' .
	  \ '\&lt;generate\&gt;:\&lt;endgenerate\&gt;,' .
	  \ '\&lt;interface\&gt;:\&lt;endinterface\&gt;,' .
	  \ '\&lt;function\&gt;:\&lt;endfunction\&gt;,' .
	  \ '\&lt;task\&gt;:\&lt;endtask\&gt;,' .
	  \ '\&lt;case\&gt;\|\&lt;casex\&gt;\|\&lt;casez\&gt;:\&lt;endcase\&gt;,' .
	  \ '\&lt;fork\&gt;:\&lt;join\&gt;\|\&lt;join_any\&gt;\|\&lt;join_none\&gt;,' .
	  \ '`ifdef\&gt;:`else\&gt;:`endif\&gt;,'
	endif
</pre>

</ul>
</ul>




<p>
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"C语言编译，调试
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
</p>
<pre>
"定义CompileRun函数，用来调用进行编译和运行 
"func CompileRun()
"exec "w"
"if &amp;filetype == 'c'
"exec "!gcc % -g -o %&lt;"
"exec "!%&lt;"
"endif
"endfunc 
"结束定义CompileRun 

"定义Debug函数，用来调试程序
"func Debug()
"exec "w"
"if &amp;filetype == 'c'
"exec "!gcc % -g -o %&lt;"
"exec "!gdb %&lt;"
"endif
"endfunc
"结束定义Debug 

"定义Run函数
"func Run()
"if &amp;filetype == 'c'
"exec "!%&lt;.exe"
"endif
"endfunc

"map &lt;F5&gt; :call CompileRun()&lt;CR&gt;
"map &lt;F6&gt; :call Run()&lt;CR&gt;
"map &lt;C-F5&gt; :call Debug()&lt;CR&gt;
</pre>


<ul>
<li>
使用Align 对齐时，需先使用

<li>
AlignCtrl g  xxx		选中需要对齐的行

<li>
AlignCtrl W				保持每行初始化的空白

<li>
AlignCtrl lp0P0			设置对齐关键词左右两边的空白

</ul>


<p>
"set guicursor=n:ver15                  "正常模式下光标为竖线
"set cursorcolumn=80                     "高亮当前列
</p>

<p>
" 可视模式下选中一段文字并全文搜索这段文字
"vnoremap * y/&lt;C-R&gt;=escape(@", '\\/.*$^~[]')&lt;cr&gt;&lt;cr&gt;
"vnoremap # y?&lt;C-R&gt;=escape(@", '\\/.*$^~[]')&lt;cr&gt;&lt;cr&gt;
"nmap   ,sn     :simalt ~n&lt;cr&gt;
</p>



<p>
1.为函数名添加tags
%s/gtk_\l\+_\l\+\S*\s()/&amp;\t*&amp;*/g
%s/\s()\<strong>/\</strong>/g
2.删除函数原型中的空格
%s/\s\{2,}/ /g
3.参数前后添加$
%s/\S*\s:/\(&amp;\)/g
</p>

<p>
4: 添加description~
/);
@d
</p>

<p>
5:将description下的首行,进行断行
@c
</p>

<p>
6. 添加Synopsis
/\<strong>gtk.</strong>\*
@s
</p>

<p>
silent %s/gtk_\l\+_\l\+\S*\s()/&amp;\t*&amp;<strong>/g | :silent %s/\s()\</strong>/\<strong>/g | :silent %s/\s\{2,}/ /g | :silent %s/\S</strong>\s:/\(&amp;\)/g 
</p>

<p>
7.为大写的宏定义添加tags
\([A-Z]\+_\)\+[A-Z]\{2,}
%s/\([A-Z]\+_\)\+[A-Z]\{2,}/|&amp;|/g
</p>

<p>
%s/\([A-Z]\+<em>\)\+[A-Z]\{2,}/|&amp;|/g | : %s/\zs\([a-z]\+</em>\)\+[a-z]\{2,}\ze()/|&amp;|/g
8.为说明里的函数名添加tags
%s/\zs\([a-z]\+_\)\+[a-z]\{2,}\ze()/|&amp;|/g
</p>

<ul>
<li>
长行截短

</ul>
<p>
set formatoptions+=m | execute "set textwidth=" . (&amp;columns - &amp;numberwidth) | normal gqG
</p>


<p>
将连续的空行替换为一个空行
%s/^\n\+/\r/g
</p>

<p>
%s/^\(-\+\)$\n*/\1\r/gc
</p>

<p>
%s/\(^-\+\)\_s*/\1\r/g
</p>

<p>
搜索任意中文
[^\x00-\xff]
</p>

<p>
syn region StarsEnclosed matchgroup=underlined start=+\<strong>+ end=+\</strong>+ concealends
</p>

<p>
\%(\%(\[\d\+:\d\+\]\)\@&lt;=[<sup><small>[\]]\+\|[</small></sup>[\]]\+\%(\[\d\+:\d\+\]\)\@=\)
</p>

</body>
</html>

